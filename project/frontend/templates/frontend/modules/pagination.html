{% load frontend_extras %}

{% if page_obj %}
<nav class="container">
    <ul class="pagination justify-content-center">
        {% get_elided_page_range page_obj 0 0 as elided_page_range %}

        {% comment %}
        {% for page_number in elided_page_range %}
        {{ page_number }}
        {% endfor %}
        {% endcomment %}

        {# First page #}
        {% if page_obj.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?{% transform_GET_query page=1 %}">
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#">
        {% endif %}
                <i class="bi bi-chevron-double-left"></i>
            </a>
        </li>

        {# Previous page #}
        {% if page_obj.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?{% transform_GET_query page=page_obj.previous_page_number %}">
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#">
        {% endif %}
                <i class="bi bi-chevron-left"></i>
            </a>
        </li>

        {# N page #}
        <li class="page-item active">
            <a class="page-link" href="?{% transform_GET_query page=page_obj.number %}">
                {{ page_obj.number }}
            </a>
        </li>

        {# Next page #}
        {% if page_obj.has_next %}
        <li class="page-item">
            <a class="page-link" href="?{% transform_GET_query page=page_obj.next_page_number %}">
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#">
        {% endif %}
                <i class="bi bi-chevron-right"></i>
            </a>
        </li>

        {# Last page #}
        {% if page_obj.has_next %}
        <li class="page-item">
            <a class="page-link" href="?{% transform_GET_query page=page_obj.paginator.num_pages %}">
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#">
        {% endif %}
                <i class="bi bi-chevron-double-right"></i>
            </a>
        </li>

    </ul>
</nav>
{% endif %}
